I"<h2 id="heroku-사용하여-배포하기">heroku 사용하여 배포하기</h2>

<hr />

<p><code class="language-plaintext highlighter-rouge">heroku는 웹사이트를 인터넷에 올릴 수 있도록 서버를 제공하는 사이트들 중 하나이다.</code> <br />
heroku 가입은 무료이며 현재 무료 버전 제약은 크게 2가지 이다.</p>

<ul>
  <li>
    <p>30분간 방문이 없는 경우 사이트를 slep 시킨다. 사이트가 sleep된 상태에서 페이지 요청이 들어오는 경우 사이트가 다시 
깨어나지만 10~30초 정도 시간이 걸린다.</p>
  </li>
  <li>
    <p>한 계정당 한달의 550시간만 사용가능하다. 단, 계정에 신용카드 등록을 하는 경우 1000시간 사용가능하다. 신용카드에서 
돈이 나가진 않는다.</p>
  </li>
</ul>

<h4 id="heroku-회원-가입">heroku 회원 가입</h4>

<p><a href="https://www.heroku.com">https://www.heroku.com </a> 사이트를 접속하여 회원가입을 진행한다. 그 후 로그인을 진행 후 
대시보드에서 Create new app 을 만든다. 애플리케이션을 생성한다는 것은 
배포를 위해 heroku가 관리하는 인스턴스가 생성되었다고 이해하면 된다.</p>

<p><img width="500" alt="스크린샷 2020-08-02 오후 3 04 14" src="https://user-images.githubusercontent.com/26623547/89116681-e4cb3f00-d4d1-11ea-899e-2a7a442cc942.png" /></p>

<hr />

<p>아래와 같이 heroku cli를 설치 하고 git을 이용하여 배포 해보자.</p>

<h4 id="heroku-setup-and-login">heroku setup and login</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// macOS 기준 설치 
$ brew tap heroku/brew &amp;&amp; brew install heroku

$ heroku -v // 버전 확인 

$ heroku login // 로그인
</code></pre></div></div>

<hr />

<h4 id="heroku-app-create">heroku app create</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// heroku app 이 생성되고 remote 저장소로 heroku가 추가된다.   
$ heroku create &lt;저장소 이름&gt;

$ git remove -v // remote 저장소 추가된 것 확인 
</code></pre></div></div>

<hr />

<h4 id="heroku-push-and-open">heroku push and open</h4>

<p><code class="language-plaintext highlighter-rouge">heroku git 저장소에 push를 하면 자동으로 빌드 후 웹 어플리케이션이 실행된다.</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git push heroku master // master branch로 push 

$ git push heroku &lt;branch-name&gt;:master  // branch 이름으로 push

$ heroku open // url 열어서 확인 
</code></pre></div></div>
<hr />

<h4 id="heroku-db-setup">heroku DB setup</h4>

<p>아래는 spring boot 에 DB 설정 예이다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ heroku config:set spring.data.mongodb.uri=&lt;database_uri_here&gt; // 추가 

$ heroku config:unset &lt;VALUE&gt; // config 삭제 

$ heroku config  // config 확인 
</code></pre></div></div>
<hr />

<h4 id="buildpacks">buildpacks</h4>

<p><code class="language-plaintext highlighter-rouge">빌드팩은 데이터를 생성하거나, 소스코드를 컴파일하는 빌드 과정을 담당하는 
Heroku의 도구 세트이다. 아래는 chrome 을 사용하기 위하여 빌드팩을 추가하였다.</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>heroku buildpacks:add heroku/google-chrome
</code></pre></div></div>

<hr />

<h4 id="공동-작업자-권한-추가">공동 작업자 권한 추가</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ heroku access:add &lt;email&gt;
Adding test@example.com to myapp collaborators...done   

$ heroku access // 공동 작업자 보기 

$ heroku access:remove &lt;email&gt;
</code></pre></div></div>

<h4 id="etc">etc</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ heroku logout // 한번 로그인 되면 컴퓨터를 재시작해도 로그인이 지속되므로 해당 명령어로 로그아웃 

$ keroku ps // 사용량 보기

$ heroku logs --tail // 앱 로그 보기

$ heroku apps:rename &lt;new name&gt;  // heroku app name 변경 
</code></pre></div></div>

<hr />
<p>Reference</p>

<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://zcx6263.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>

<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

:ET